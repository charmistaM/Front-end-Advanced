<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Day6_1</title>
</head>
<body>
    <h1>Data Filtration Using JavaScript</h1><hr/>
    <form  action="login.php"   method="get"   onsubmit="fn_submitData()">
			
        Search Value  :  <input type="text"  id="edetails" name="edetails"/>

        <span><input type="button" onclick="fn_onclick1()" value="Find By EmpNo">
        <input type="button" onclick="fn_onclick2()" value="Find By Job"></span><br/><br/>
            <table  id="table1" Border="4"  width="500"  cellpadding="10" cellspacing="0">
                <tr>
                        <th>Empno</th>
                        <th>Ename</th>
                        <th>Job</th>
                        <th>Salary</th>
                        <th>Deptno</th>
                </tr>
            </table>
    <script>

            var empArray=[
                {Empno : "1025", Ename :  "Scott",  Job :  "Lead", Salary:"48000",Deptno:"40"},
                {Empno:  "1026",  Ename  :  "Smith",  Job :  "Manager", Salary:"88000",Deptno:"10"},
                {Empno:  "1027",  Ename  :  "Me",  Job :  "painter", Salary:"48000",Deptno:"60"},
                {Empno:  "1028",  Ename  :  "Sandy",  Job :  "Manager", Salary:"88000",Deptno:"20"},
                {Empno:  "1029",  Ename  :  "Jess",  Job :  "Engineer", Salary:"48000",Deptno:"80"},
                {Empno:  "1030",  Ename  :  "Adam",  Job :  "Bott", Salary:"48000",Deptno:"90"},
                {Empno:  "1031",  Ename  :  "Justin",  Job :  "Player", Salary:"48000",Deptno:"100"}
            ];


        function fn_onclick1(){

            var textObj=document.getElementById("edetails");
            var item=empArray.find(item => item.Empno==textObj.value);
            console.log(item);
            var  tableObj =  document.getElementById("table1");
            var count=tableObj.rows.length;
            for(var j=0;j<(count-1);j++){
                tableObj.deleteRow(-1);
            }

           
            var  row1 =  tableObj.insertRow(-1);			
						
            var  cell1 =  row1.insertCell(-1);
            var  cell2 =  row1.insertCell(-1);
            var  cell3 =  row1.insertCell(-1);
            var  cell4 =  row1.insertCell(-1);
            var  cell5 =  row1.insertCell(-1);
             
            cell1.innerHTML = item.Empno;
            cell2.innerHTML = item.Ename;
            cell3.innerHTML = item.Job;
            cell4.innerHTML = item.Salary;
            cell5.innerHTML = item.Deptno;
        }
        function fn_onclick2(){

            var textObj=document.getElementById("edetails");
            var itemArr =empArray.filter(employee => employee.Job==textObj.value);
            console.log(itemArr);
            var tableObj= document.getElementById("table1");

            var count=tableObj.rows.length;
            for(var j=0;j<(count-1);j++){
                tableObj.deleteRow(-1);
            }

            for(let item of itemArr){
                var  row1 =  tableObj.insertRow(-1);			
                            
                var  cell1 =  row1.insertCell(-1);
                var  cell2 =  row1.insertCell(-1);
                var  cell3 =  row1.insertCell(-1);
                var  cell4 =  row1.insertCell(-1);
                var  cell5 =  row1.insertCell(-1);

                cell1.innerHTML = item.Empno;
                cell2.innerHTML = item.Ename;
                cell3.innerHTML = item.Job;
                cell4.innerHTML = item.Salary;
                cell5.innerHTML = item.Deptno;
            }
        }

    </script>
</body>
</html>