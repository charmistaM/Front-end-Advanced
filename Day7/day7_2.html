<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asynchronous JavaScript</title>
</head>
<body>
    <h1 style="text-align: center;">Working with Asynchronous JavaScript</h1>
    <hr/>
    <input type="button" onclick="fn_onclick()" value="Show Data"><br/><br/>
    <table  id="table1" Border="4"  width="500"  cellpadding="10" cellspacing="0">
        <tr>
                <th>ID</th>
                <th>Email</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Avatar</th>
        </tr>
    </table>
    <script>

        function fn_onclick(){
            let url =  "https://reqres.in/api/users";
			fetch(url).then(  (response)  => 
			{ 
					response.json().then ((result) =>  
					{
						console.log(result);
						console.log(result.data[2]);
                        var tableObj =  document.getElementById("table1");
                        var count=result.data.length;
                        for(i=0;i<count;i++){
                            var  row1 =  tableObj.insertRow(-1);			
                            
                            var  cell1 =  row1.insertCell(-1);
                            var  cell2 =  row1.insertCell(-1);
                            var  cell3 =  row1.insertCell(-1);
                            var  cell4 =  row1.insertCell(-1);
                            var  cell5 =  row1.insertCell(-1);
                            
                            cell1.innerHTML = result.data[i].id;
                            cell2.innerHTML = result.data[i].email;
                            cell3.innerHTML = result.data[i].first_name;
                            cell4.innerHTML = result.data[i].last_name;
                            cell5.innerHTML = "<img src="+result.data[i].avatar+">";
                        }
					});	 
			});
        }
        </script>
</body>
</html>